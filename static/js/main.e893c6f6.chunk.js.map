{"version":3,"sources":["index.js"],"names":["defaultClockState","sLength","bLength","timeLeft","curTimer","timerState","interval","clockAnimation","animation","accurateInterval","fn","time","cancel","nextAt","timeout","wrapper","Date","getTime","setTimeout","clearTimeout","Clock","props","state","setSLength","bind","setBLength","handleTimer","resetTimer","decrementTimer","op","this","val","setState","music","play","pause","currentTime","min","Math","floor","sec","id","style","class","displayTime","className","onClick","preload","src","ref","audio","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e893c6f6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n\r\nconst defaultClockState = {\r\n  sLength: 25,\r\n  bLength: 5,\r\n  timeLeft: 1500,\r\n  curTimer: \"session\",\r\n  timerState: \"off\",\r\n  interval: \"\",\r\n  clockAnimation: { animation: \"none\" }\r\n};\r\nlet accurateInterval = function(fn, time) {\r\n  var cancel, nextAt, timeout, wrapper;\r\n  nextAt = new Date().getTime() + time;\r\n  timeout = null;\r\n  wrapper = function() {\r\n    nextAt += time;\r\n    timeout = setTimeout(wrapper, nextAt - new Date().getTime());\r\n    return fn();\r\n  };\r\n  cancel = function() {\r\n    return clearTimeout(timeout);\r\n  };\r\n  timeout = setTimeout(wrapper, nextAt - new Date().getTime());\r\n  return {\r\n    cancel: cancel\r\n  };\r\n};\r\nclass Clock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = defaultClockState;\r\n    this.setSLength = this.setSLength.bind(this);\r\n    this.setBLength = this.setBLength.bind(this);\r\n    this.handleTimer = this.handleTimer.bind(this);\r\n    this.resetTimer = this.resetTimer.bind(this);\r\n    this.decrementTimer = this.decrementTimer.bind(this);\r\n  }\r\n  setSLength(op) {\r\n    if (this.state.timerState == \"on\") return;\r\n\r\n    let val = this.state.sLength;\r\n    if (op === \"+\" && val < 60) val++;\r\n    else if (op === \"-\" && val > 1) val--;\r\n\r\n    this.setState({\r\n      sLength: val,\r\n      timeLeft:\r\n        this.state.curTimer === \"session\" ? val * 60 : this.state.timeLeft\r\n    });\r\n  }\r\n  setBLength(op) {\r\n    let val = this.state.bLength;\r\n    if (this.state.timerState == \"on\") return;\r\n\r\n    if (op === \"+\" && val < 60) val++;\r\n    else if (op === \"-\" && val > 1) val--;\r\n\r\n    this.setState({\r\n      bLength: val,\r\n      timeLeft: this.state.curTimer === \"break\" ? val * 60 : this.state.timeLeft\r\n    });\r\n  }\r\n  decrementTimer() {\r\n    let timeLeft, curTimer;\r\n    timeLeft = this.state.timeLeft - 1;\r\n    this.setState({ timeLeft: timeLeft });\r\n    if (timeLeft == 0) this.music.play();\r\n    if (timeLeft < 61) {\r\n      this.setState({\r\n        clockAnimation: { animation: \"clock-alert 1s infinite alternate\" }\r\n      });\r\n    }\r\n    if (timeLeft < 0) {\r\n      curTimer = this.state.curTimer == \"session\" ? \"break\" : \"session\";\r\n      timeLeft =\r\n        curTimer == \"session\"\r\n          ? this.state.sLength * 60\r\n          : this.state.bLength * 60;\r\n      this.setState({\r\n        timeLeft: timeLeft,\r\n        curTimer: curTimer,\r\n        clockAnimation: { animation: \"none\" }\r\n      });\r\n    }\r\n  }\r\n  handleTimer() {\r\n    let timeLeft;\r\n    if (this.state.timerState == \"on\") {\r\n      this.setState({\r\n        timerState: \"off\",\r\n        clockAnimation: { animation: \"none\" }\r\n      });\r\n      this.state.interval && this.state.interval.cancel();\r\n    } else {\r\n      this.setState({\r\n        timerState: \"on\",\r\n        interval: accurateInterval(() => this.decrementTimer(), 1000)\r\n      });\r\n    }\r\n  }\r\n  resetTimer() {\r\n    this.setState(defaultClockState);\r\n    this.state.interval && this.state.interval.cancel();\r\n    this.music.pause();\r\n    this.music.currentTime = 0.2;\r\n  }\r\n\r\n  displayTime() {\r\n    let min = Math.floor(this.state.timeLeft / 60);\r\n    let sec = this.state.timeLeft - min * 60;\r\n    sec = sec < 10 ? \"0\" + sec : sec;\r\n    min = min < 10 ? \"0\" + min : min;\r\n    return min + \":\" + sec;\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"pomodoro\">\r\n        <div id=\"clock-title\">Pomodoro Clock</div>\r\n        <div id=\"clock-display\" style={this.state.clockAnimation}>\r\n          <div id=\"timer-label\">{this.state.curTimer}</div>\r\n          <div id=\"time-left\" class=\"number-display\">\r\n            {this.displayTime()}\r\n          </div>\r\n          <div id=\"clock-controls\">\r\n            <div\r\n              id=\"start_stop\"\r\n              className=\"switch\"\r\n              onClick={() => this.handleTimer()}\r\n            >\r\n              {this.state.timerState === \"on\" ? (\r\n                <i className=\"fas fa-pause\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-play\"></i>\r\n              )}\r\n            </div>\r\n            <div id=\"reset\" className=\"switch\" onClick={this.resetTimer}>\r\n              <i className=\"fas fa-sync\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id=\"clock-settings\">\r\n          <div id=\"break-block\">\r\n            <div id=\"break-label\">Break Length</div>\r\n            <div id=\"break-settings\">\r\n              <div\r\n                id=\"break-decrement\"\r\n                className=\"switch\"\r\n                onClick={() => this.setBLength(\"-\")}\r\n              >\r\n                -\r\n              </div>\r\n              <div id=\"break-length\" class=\"number-display\">\r\n                {this.state.bLength}\r\n              </div>\r\n              <div\r\n                id=\"break-increment\"\r\n                className=\"switch\"\r\n                onClick={() => this.setBLength(\"+\")}\r\n              >\r\n                +\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div id=\"session-block\">\r\n            <div id=\"session-label\">Session Length</div>\r\n            <div id=\"session-settings\">\r\n              <div\r\n                id=\"session-decrement\"\r\n                className=\"switch\"\r\n                onClick={() => this.setSLength(\"-\")}\r\n              >\r\n                -\r\n              </div>\r\n              <div id=\"session-length\" class=\"number-display\">\r\n                {this.state.sLength}\r\n              </div>\r\n              <div\r\n                id=\"session-increment\"\r\n                className=\"switch\"\r\n                onClick={() => this.setSLength(\"+\")}\r\n              >\r\n                +\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id=\"footer\"> &copy; Elizabeth Vincent M</div>\r\n        <audio\r\n          id=\"beep\"\r\n          preload=\"auto\"\r\n          src=\"http://soundbible.com/grab.php?id=2218&type=wav\"\r\n          ref={audio => {\r\n            this.music = audio;\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<Clock />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}