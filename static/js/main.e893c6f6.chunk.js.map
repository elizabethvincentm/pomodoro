{"version":3,"sources":["index.js"],"names":["defaultClockState","sLength","bLength","timeLeft","curTimer","timerState","interval","clockAnimation","animation","accurateInterval","fn","time","cancel","nextAt","timeout","wrapper","Date","getTime","setTimeout","clearTimeout","Clock","props","state","setSLength","bind","setBLength","handleTimer","resetTimer","decrementTimer","op","this","val","setState","music","play","pause","currentTime","min","Math","floor","sec","id","style","class","displayTime","className","onClick","preload","src","ref","audio","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e893c6f6.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nconst defaultClockState = {\n  sLength: 25,\n  bLength: 5,\n  timeLeft: 1500,\n  curTimer: \"session\",\n  timerState: \"off\",\n  interval: \"\",\n  clockAnimation: { animation: \"none\" }\n};\nlet accurateInterval = function(fn, time) {\n  var cancel, nextAt, timeout, wrapper;\n  nextAt = new Date().getTime() + time;\n  timeout = null;\n  wrapper = function() {\n    nextAt += time;\n    timeout = setTimeout(wrapper, nextAt - new Date().getTime());\n    return fn();\n  };\n  cancel = function() {\n    return clearTimeout(timeout);\n  };\n  timeout = setTimeout(wrapper, nextAt - new Date().getTime());\n  return {\n    cancel: cancel\n  };\n};\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = defaultClockState;\n    this.setSLength = this.setSLength.bind(this);\n    this.setBLength = this.setBLength.bind(this);\n    this.handleTimer = this.handleTimer.bind(this);\n    this.resetTimer = this.resetTimer.bind(this);\n    this.decrementTimer = this.decrementTimer.bind(this);\n  }\n  setSLength(op) {\n    if (this.state.timerState == \"on\") return;\n\n    let val = this.state.sLength;\n    if (op === \"+\" && val < 60) val++;\n    else if (op === \"-\" && val > 1) val--;\n\n    this.setState({\n      sLength: val,\n      timeLeft:\n        this.state.curTimer === \"session\" ? val * 60 : this.state.timeLeft\n    });\n  }\n  setBLength(op) {\n    let val = this.state.bLength;\n    if (this.state.timerState == \"on\") return;\n\n    if (op === \"+\" && val < 60) val++;\n    else if (op === \"-\" && val > 1) val--;\n\n    this.setState({\n      bLength: val,\n      timeLeft: this.state.curTimer === \"break\" ? val * 60 : this.state.timeLeft\n    });\n  }\n  decrementTimer() {\n    let timeLeft, curTimer;\n    timeLeft = this.state.timeLeft - 1;\n    this.setState({ timeLeft: timeLeft });\n    if (timeLeft == 0) this.music.play();\n    if (timeLeft < 61) {\n      this.setState({\n        clockAnimation: { animation: \"clock-alert 1s infinite alternate\" }\n      });\n    }\n    if (timeLeft < 0) {\n      curTimer = this.state.curTimer == \"session\" ? \"break\" : \"session\";\n      timeLeft =\n        curTimer == \"session\"\n          ? this.state.sLength * 60\n          : this.state.bLength * 60;\n      this.setState({\n        timeLeft: timeLeft,\n        curTimer: curTimer,\n        clockAnimation: { animation: \"none\" }\n      });\n    }\n  }\n  handleTimer() {\n    let timeLeft;\n    if (this.state.timerState == \"on\") {\n      this.setState({\n        timerState: \"off\",\n        clockAnimation: { animation: \"none\" }\n      });\n      this.state.interval && this.state.interval.cancel();\n    } else {\n      this.setState({\n        timerState: \"on\",\n        interval: accurateInterval(() => this.decrementTimer(), 1000)\n      });\n    }\n  }\n  resetTimer() {\n    this.setState(defaultClockState);\n    this.state.interval && this.state.interval.cancel();\n    this.music.pause();\n    this.music.currentTime = 0.2;\n  }\n\n  displayTime() {\n    let min = Math.floor(this.state.timeLeft / 60);\n    let sec = this.state.timeLeft - min * 60;\n    sec = sec < 10 ? \"0\" + sec : sec;\n    min = min < 10 ? \"0\" + min : min;\n    return min + \":\" + sec;\n  }\n  render() {\n    return (\n      <div id=\"pomodoro\">\n        <div id=\"clock-title\">Pomodoro Clock</div>\n        <div id=\"clock-display\" style={this.state.clockAnimation}>\n          <div id=\"timer-label\">{this.state.curTimer}</div>\n          <div id=\"time-left\" class=\"number-display\">\n            {this.displayTime()}\n          </div>\n          <div id=\"clock-controls\">\n            <div\n              id=\"start_stop\"\n              className=\"switch\"\n              onClick={() => this.handleTimer()}\n            >\n              {this.state.timerState === \"on\" ? (\n                <i className=\"fas fa-pause\"></i>\n              ) : (\n                <i className=\"fas fa-play\"></i>\n              )}\n            </div>\n            <div id=\"reset\" className=\"switch\" onClick={this.resetTimer}>\n              <i className=\"fas fa-sync\"></i>\n            </div>\n          </div>\n        </div>\n        <div id=\"clock-settings\">\n          <div id=\"break-block\">\n            <div id=\"break-label\">Break Length</div>\n            <div id=\"break-settings\">\n              <div\n                id=\"break-decrement\"\n                className=\"switch\"\n                onClick={() => this.setBLength(\"-\")}\n              >\n                -\n              </div>\n              <div id=\"break-length\" class=\"number-display\">\n                {this.state.bLength}\n              </div>\n              <div\n                id=\"break-increment\"\n                className=\"switch\"\n                onClick={() => this.setBLength(\"+\")}\n              >\n                +\n              </div>\n            </div>\n          </div>\n          <div id=\"session-block\">\n            <div id=\"session-label\">Session Length</div>\n            <div id=\"session-settings\">\n              <div\n                id=\"session-decrement\"\n                className=\"switch\"\n                onClick={() => this.setSLength(\"-\")}\n              >\n                -\n              </div>\n              <div id=\"session-length\" class=\"number-display\">\n                {this.state.sLength}\n              </div>\n              <div\n                id=\"session-increment\"\n                className=\"switch\"\n                onClick={() => this.setSLength(\"+\")}\n              >\n                +\n              </div>\n            </div>\n          </div>\n        </div>\n        <div id=\"footer\"> &copy; Elizabeth Vincent M</div>\n        <audio\n          id=\"beep\"\n          preload=\"auto\"\n          src=\"http://soundbible.com/grab.php?id=2218&type=wav\"\n          ref={audio => {\n            this.music = audio;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Clock />, document.getElementById(\"root\"));\n"],"sourceRoot":""}